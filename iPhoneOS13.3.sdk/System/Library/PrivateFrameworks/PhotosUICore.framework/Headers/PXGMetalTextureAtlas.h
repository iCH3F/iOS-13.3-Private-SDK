//
//     Generated by class-dump 3.5 (64 bit) (Debug version compiled Mar 22 2020 01:47:48).
//
//  Copyright (C) 1997-2019 Steve Nygard.
//

#import <PhotosUICore/PXGImageTexture.h>

#import <PhotosUICore/PXGMetalSpriteTexture-Protocol.h>

@class NSIndexSet, NSMutableDictionary, NSMutableIndexSet, NSObject, NSString, PXGColorProgram;
@protocol MTLDevice, MTLTexture, OS_dispatch_queue;

@interface PXGMetalTextureAtlas : PXGImageTexture <PXGMetalSpriteTexture>
{
    id <MTLDevice> _device;
    NSObject<OS_dispatch_queue> *_syncQueue;
    long long _cols;
    NSUInteger _bytesPerPixel;
    NSMutableIndexSet *_thumbnailIndexesUsedBySprites;
    NSMutableIndexSet *_spriteIndexesUsedBySprites;
    unsigned int _spriteIndexByThumbnailIndex;
    NSIndexSet *_renderedSpriteIndexes;
    _Atomic short _count;
    NSMutableIndexSet *_thumbnailIndexesPendingCheckin;
    NSMutableIndexSet *_thumbnailIndexesBeingCheckedIn;
    _Atomic unsigned char _isPerformingThumbnailCheckin;
    char _retainCountByThumbnailIndex;
    CDStruct_183601bc _guarded_textureInfoByThumbnailIndex;
    NSMutableIndexSet *_syncQueue_availableThumbnailIndexes;
    NSMutableDictionary *_syncQueue_thumbnailsInUseByRenderPass;
    struct {
        int _field1;
        unsigned int _field2;
        unsigned int _field3;
    } _syncQueue_pendingThumbnailRequestInfo;
    NSUInteger _syncQueue_pendingThumbnailRequestInfoCount;
    NSUInteger _syncQueue_pendingThumbnailRequestInfoCapacity;
    unsigned int _capacity;
    id <MTLTexture> _texture;
    PXGColorProgram *_colorProgram;
    long long _renderPipelineIndex;
    NSIndexSet *_skipRenderSpriteIndexes;
    NSUInteger _pixelFormat;
    CGSize _thumbnailSize;
}

+ (unsigned int)maxCapacityForThumbnailSize:(CGSize)arg1 pixelFormat:(NSUInteger)arg2;
@property(readonly, nonatomic) unsigned int capacity; // @synthesize capacity=_capacity;
@property(readonly, nonatomic) CGSize thumbnailSize; // @synthesize thumbnailSize=_thumbnailSize;
@property(readonly, nonatomic) NSUInteger pixelFormat; // @synthesize pixelFormat=_pixelFormat;
@property(retain, nonatomic) NSIndexSet *skipRenderSpriteIndexes; // @synthesize skipRenderSpriteIndexes=_skipRenderSpriteIndexes;
@property(nonatomic) long long renderPipelineIndex; // @synthesize renderPipelineIndex=_renderPipelineIndex;
@property(readonly, nonatomic) PXGColorProgram *colorProgram; // @synthesize colorProgram=_colorProgram;
@property(readonly, nonatomic) id <MTLTexture> texture; // @synthesize texture=_texture;
// - (void).cxx_destruct;
- (void)_syncQueue_checkinThumbnailIndex:(unsigned int)arg1;
- (unsigned int)_syncQueue_checkoutNextThumbnailIndex;
- (void)_syncQueue_resizeStorageIfNeeded;
@property(readonly, nonatomic) id <MTLTexture> chromaTexture;
@property(readonly, nonatomic) int shaderFlags;
@property(readonly, nonatomic) BOOL isCaptureTexture;
@property(readonly, nonatomic) BOOL isAtlas;
- (void)cleanupAfterRender:(long long)arg1;
- (void)prepareForRender:(long long)arg1;
@property(readonly, nonatomic) BOOL isOpaque;
@property(readonly, nonatomic) CGSize pixelSize;
@property(readonly, nonatomic) CGImage imageRepresentation;
@property(readonly, nonatomic) int presentationType;
@property(readonly, nonatomic) long long estimatedByteSize;
- (void)removeSpriteIndex:(unsigned int)arg1;
- (void)processPendingTextureRequestIDsWithHandler:(id /* CDUnknownBlockType */)arg1;
- (void)addSpriteWithTextureRequestID:(int)arg1 deliveryOrder:(unsigned int)arg2;
- (BOOL)containsSpriteIndex:(unsigned int)arg1;
- (void)getTextureInfos:(CDStruct_183601bc )arg1 forSpriteIndexes:(unsigned int )arg2 geometries:(const CDStruct_3ab912e1 )arg3 spriteStyles:(const CDStruct_506f5052 )arg4 spriteInfos:(const CDStruct_9d1ebe49 )arg5 screenScale:(double)arg6 count:(unsigned int)arg7;
- (void)getSpriteIndexes:(unsigned int )arg1 maxSpriteCount:(unsigned int)arg2;
@property(readonly, nonatomic) NSIndexSet *spriteIndexes;
@property(readonly, nonatomic) unsigned int spriteCount;
@property(readonly, nonatomic) NSIndexSet *renderedSpriteIndexes;
- (void)_syncQueue_releaseThumbnailsAtIndexes:(id)arg1;
- (void)_syncQueue_releaseThumbnailAtIndex:(long long)arg1;
- (void)_syncQueue_retainThumbnailsAtIndexes:(id)arg1;
- (void)_syncQueue_retainThumbnailAtIndex:(long long)arg1;
- (void)applyChangeDetails:(id)arg1;
- (void)processPendingThumbnailRequestIDsWithHandler:(id /* CDUnknownBlockType */)arg1;
- (void)_checkinPendingThumbnailIndexesIfNeeded;
- (void)removeSpriteIndex:(unsigned int)arg1 atThumbnailIndex:(unsigned int)arg2;
- (void)_invalidateRenderedSpriteIndexes;
- (unsigned int)addSpriteWithTextureRequestID:(int)arg1 thumbnailData:(id)arg2 bytesPerRow:(NSUInteger)arg3 contentsRect:(CGRect)arg4;
@property(readonly, copy, nonatomic) NSIndexSet *thumbnailIndexesUsedBySprites;
@property(readonly, nonatomic) unsigned int count;
@property(readonly, copy) NSString *description;
- (void)dealloc;
- (id)init;
- (id)initWithThumbnailSize:(CGSize)arg1 pixelFormat:(NSUInteger)arg2 capacity:(unsigned int)arg3 colorProgram:(id)arg4 device:(id)arg5;

@end

